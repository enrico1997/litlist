<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Create Your Profile and Lit List</title>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Bootstrap CDN-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Firebase Reference -->
    <script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>
  </head>
  <body>
    <div class="container">
   


      <div class="row">
        <div class="col-lg-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">Create Your Profile</h3>
            </div>
            
            <div class="panel-body">
              <form id ="createInitial">

                <div class="form-group">
                  <label for="userName">Name</label>
                  <input class="form-control" id="userName" type="text">
                </div>

                <div class="form-group">
                  <label for="userCity">Your Location</label>
                  <input class="form-control" id="userCity" type="text">
                </div>

      <div class="row">
        <div class="col-lg-12">
          <div class="panel panel-default">
               <div class="panel-heading">
                  <h3 class="panel-title">Start Lit List</h3>
                </div>
            
                <div class="panel-body">
                    

                        <div>

                        <label for="itemCategory">Category</label>
   <!-- <form action="/action_page.php"> -->
                        <select class="form-control" id="itemCategory">
                        <option value="Books">Books</option>
                        <option value="Movies">Movies</option>
                        <option value="Beauty">Beauty</option>
                        <option value="Health">Health</option>
                        <option value="Sports">Sports</option>
                        <option value="Home">Home</option>
                        <option value="Toys">Toys</option>

                        </select>

                        </div>

                        <br>

                        <div>
                              <label for="item_name">Type in your favorite product</label>
                              <input class="form-control" id="item_name" type="text">
                        </div>      
                  
                          <br>

                        <div>

                            <label for="review">Write a review</label>
                            <input class="form-control" id="review" type="text">
                        </div>
                  
                 

      
       <!--      </div> -->
                  <br>

                  <button class="btn btn-primary" id="submit-user" type="submit">Submit</button>

              
                </div>
          </div>
        </div>
      </div>



     
<!-- container div -->
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var config = {
          apiKey: "AIzaSyD43oZfYX_igbsUwjewJtrNGQr4bpCrzBk",
          authDomain: "litlist-306a8.firebaseapp.com",
          databaseURL: "https://litlist-306a8.firebaseio.com",
          projectId: "litlist-306a8",
          storageBucket: "litlist-306a8.appspot.com",
          messagingSenderId: "188274961247"
        };

        firebase.initializeApp(config);

        var database = firebase.database();

        $("#submit-user").on("click", function(event) {

          event.preventDefault();
    
          // Grabs user input
          var userNew = $("#userName").val().trim();
          var itemCategory = $("#itemCategory").val().trim();
          var itemName = $("#item_name").val().trim();
    
          var itemReview = $("#review").val().trim();
          var user = $("#userName").val().trim();

          // Creates local "temporary" object for holding train data
          var newPerson = {
            username: user,
            location: '',
            image: '',
            items: 
              [
                {
                  item_category: itemCategory,
                  item_name:  itemName,
                  item_review:   itemReview,
                  item_id: ''
                }
              ]
          };

          console.log(newPerson);

          // $("#createInitial").attr('data', userName);

          var ref = database.ref("/users/");
          var createPerson = ref.push([newPerson]);
          var path = createPerson.toString();
          alert(path);

        });

       
    

</script>

</body>
</html>